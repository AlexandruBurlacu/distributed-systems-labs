version: "3"
services:

  # cassandra cluster, can be easily switched to scylladb
  cassandra1:
    image: cassandra:3.11
    container_name: cassandra1
    volumes:
      - ./volumes/db/1:/var/lib/cassandra
    ports:
      - "9042:9042"
      - "7199:7199"

  cassandra2:
    image: cassandra:3.11
    container_name: cassandra2
    links:
     - cassandra1:seed
    environment:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
     - CASSANDRA_SEEDS=seed
    volumes:
      - ./volumes/db/2:/var/lib/cassandra
    ports:
      - "9142:9042"

  # cassandra3:
  #   image: cassandra:3.11
  #   container_name: cassandra3
  #   links:
  #    - cassandra1:seed
  #   environment:
  #    - CASSANDRA_SEEDS=seed
  #   volumes:
  #     - ./volumes/db/3:/var/lib/cassandra
  #   ports:
  #     - "9242:9042"

  # cassandra4:
  #   image: cassandra:3.11
  #   container_name: cassandra4
  #   links:
  #    - cassandra1:seed
  #   environment:
  #    - CASSANDRA_SEEDS=seed
  #   volumes:
  #     - ./volumes/db/4:/var/lib/cassandra
  #   ports:
  #     - "9342:9042"
  
  # cassandra5:
  #   image: cassandra:3.11
  #   container_name: cassandra5
  #   links:
  #    - cassandra1:seed
  #   environment:
  #    - CASSANDRA_SEEDS=seed
  #   volumes:
  #     - ./volumes/db/5:/var/lib/cassandra
  #   ports:
  #     - "9442:9042"

  # cassandra6:
  #   image: cassandra:3.11
  #   container_name: cassandra6
  #   links:
  #    - cassandra1:seed
  #   environment:
  #    - CASSANDRA_SEEDS=seed
  #   volumes:
  #     - ./volumes/db/6:/var/lib/cassandra
  #   ports:
  #     - "9542:9042"
